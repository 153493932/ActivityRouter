<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Android的Activity路由框架 by joyrun</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Android的Activity路由框架</h1>
      <h2 class="project-tagline">通过注解方式来实现URL打开Activity功能</h2>
      <a href="test://second?uid=12" class="btn">View on GitHub</a>
      <a href="http://www.thejoyrun.com/second?uid=34" class="btn">Download .zip</a>
      <a href="https://github.com/joyrun/ActivityRouter/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="android的activity路由框架" class="anchor" href="#android%E7%9A%84activity%E8%B7%AF%E7%94%B1%E6%A1%86%E6%9E%B6" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Android的Activity路由框架</h1>

<p><a href="https://jitpack.io/#joyrun/ActivityRouter"><img src="https://jitpack.io/v/joyrun/ActivityRouter.svg" alt=""></a></p>

<p>通过注解方式来实现URL打开Activity功能，并支持在WebView和外部浏览器使用，支持多级Activity跳转，支持Bundle、Uri参数注入并转换参数类型。</p>

<h3>
<a id="特点" class="anchor" href="#%E7%89%B9%E7%82%B9" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>特点</h3>

<ol>
<li>支持注解方式、手动方式注册Activity。</li>
<li>支持注入Bundle、Uri的参数并转换格式。</li>
<li>支持多级跳转。</li>
<li>支持外部浏览器打开。</li>
<li>支持HTTP协议。</li>
<li>支持目标Activity的URL构造器访问。</li>
</ol>

<h3>
<a id="简单例子" class="anchor" href="#%E7%AE%80%E5%8D%95%E4%BE%8B%E5%AD%90" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>简单例子</h3>

<div class="highlight highlight-source-java"><pre>@RouterActivity(<span class="pl-s"><span class="pl-pds">"</span>second<span class="pl-pds">"</span></span>)
<span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">SecondActivity</span> <span class="pl-k">extends</span> <span class="pl-e">Activity</span> {
    <span class="pl-k">@RouterField</span>(<span class="pl-s"><span class="pl-pds">"</span>uid<span class="pl-pds">"</span></span>)
    <span class="pl-k">private</span> <span class="pl-k">int</span> uid;
    <span class="pl-k">@Override</span>
    <span class="pl-k">protected</span> <span class="pl-k">void</span> <span class="pl-en">onCreate</span>(<span class="pl-smi">Bundle</span> <span class="pl-v">savedInstanceState</span>) {
        <span class="pl-v">super</span><span class="pl-k">.</span>onCreate(savedInstanceState);
        setContentView(<span class="pl-smi">R</span><span class="pl-k">.</span>layout<span class="pl-k">.</span>activity_second);
        <span class="pl-smi">Routers</span><span class="pl-k">.</span>inject(<span class="pl-v">this</span>);
        <span class="pl-smi">Log</span><span class="pl-k">.</span>e(<span class="pl-s"><span class="pl-pds">"</span>uid<span class="pl-pds">"</span></span>, <span class="pl-smi">String</span><span class="pl-k">.</span>valueOf(uid));
    }
}</pre></div>

<div class="highlight highlight-source-java"><pre><span class="pl-smi">Routers</span><span class="pl-k">.</span>init(<span class="pl-s"><span class="pl-pds">"</span>joyrun<span class="pl-pds">"</span></span>);<span class="pl-c">//设置Scheme</span>
<span class="pl-c">// 方式一</span>
<span class="pl-smi">RoutersHelper</span><span class="pl-k">.</span>getSecondActivityHelper()<span class="pl-k">.</span>withUid(<span class="pl-c1">24</span>)<span class="pl-k">.</span>start(<span class="pl-v">this</span>);
<span class="pl-c">// 方式二</span>
<span class="pl-smi">Routers</span><span class="pl-k">.</span>startActivity(context, <span class="pl-s"><span class="pl-pds">"</span>joyrun://second?uid=233<span class="pl-pds">"</span></span>);
<span class="pl-c">// 方式三</span>
<span class="pl-c">// 如果AndroidManifest.xml注册了RouterCenterActivity，也可以通过下面的方式打开，如果是APP内部使用，不建议使用。</span>
<span class="pl-c">// startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse("joyrun://second?uid=233")));</span></pre></div>

<h3>
<a id="目标activity的url构造器访问" class="anchor" href="#%E7%9B%AE%E6%A0%87activity%E7%9A%84url%E6%9E%84%E9%80%A0%E5%99%A8%E8%AE%BF%E9%97%AE" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>目标Activity的URL构造器访问</h3>

<p>使用URL访问有一个缺点就是难以得以目标Activity所需要的参数，同时也需要手工生成URL，使用并不友好，填写的参数名称也容易出错。所以我们就做了一个用于生成目标Activity的URL构造器，减少我们写参数名的代码。会根据注解了RouterField的成员变量生成构造器。</p>

<div class="highlight highlight-source-java"><pre><span class="pl-c">// Routers.startActivity(context, "joyrun://second?uid=233&amp;name=Wiki");</span>
<span class="pl-smi">RoutersHelper</span><span class="pl-k">.</span>getSecondActivityHelper()<span class="pl-k">.</span>withUid(<span class="pl-c1">233</span>)<span class="pl-k">.</span>withName(<span class="pl-s"><span class="pl-pds">"</span>Wiki<span class="pl-pds">"</span></span>)<span class="pl-k">.</span>start(<span class="pl-v">this</span>);
<span class="pl-c">// Routers.startActivityForResult(context, "joyrun://second?uid=233&amp;name=Wiki",1);</span>
<span class="pl-smi">RoutersHelper</span><span class="pl-k">.</span>getSecondActivityHelper()<span class="pl-k">.</span>withUid(<span class="pl-c1">233</span>)<span class="pl-k">.</span>withName(<span class="pl-s"><span class="pl-pds">"</span>Wiki<span class="pl-pds">"</span></span>)<span class="pl-k">.</span>startForResult(<span class="pl-v">this</span>,<span class="pl-c1">1</span>);</pre></div>

<h3>
<a id="多级跳转" class="anchor" href="#%E5%A4%9A%E7%BA%A7%E8%B7%B3%E8%BD%AC" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>多级跳转</h3>

<div class="highlight highlight-source-java"><pre>@RouterActivity(<span class="pl-s"><span class="pl-pds">"</span>third<span class="pl-pds">"</span></span>)
<span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">ThirdActivity</span> <span class="pl-k">extends</span> <span class="pl-e">BaseActivity</span> {
    <span class="pl-k">@RouterField</span>(<span class="pl-s"><span class="pl-pds">"</span>uid<span class="pl-pds">"</span></span>)
    <span class="pl-k">private</span> <span class="pl-k">int</span> uid;
    <span class="pl-k">@Override</span>
    <span class="pl-k">protected</span> <span class="pl-k">void</span> <span class="pl-en">onCreate</span>(<span class="pl-smi">Bundle</span> <span class="pl-v">savedInstanceState</span>) {
        <span class="pl-v">super</span><span class="pl-k">.</span>onCreate(savedInstanceState);
        setContentView(<span class="pl-smi">R</span><span class="pl-k">.</span>layout<span class="pl-k">.</span>activity_third);
        <span class="pl-smi">Routers</span><span class="pl-k">.</span>inject(<span class="pl-v">this</span>);
        <span class="pl-smi">Log</span><span class="pl-k">.</span>e(<span class="pl-s"><span class="pl-pds">"</span>uid<span class="pl-pds">"</span></span>, <span class="pl-smi">String</span><span class="pl-k">.</span>valueOf(uid));
    }
}</pre></div>

<div class="highlight highlight-source-java"><pre><span class="pl-c">// 先打开SecondActivity，再打开ThirdActivity</span>
<span class="pl-smi">Routers</span><span class="pl-k">.</span>startActivity(context, <span class="pl-s"><span class="pl-pds">"</span>joyrun://second/third?uid=233<span class="pl-pds">"</span></span>);</pre></div>

<h3>
<a id="bundleuri参数注入支持单独使用" class="anchor" href="#bundleuri%E5%8F%82%E6%95%B0%E6%B3%A8%E5%85%A5%E6%94%AF%E6%8C%81%E5%8D%95%E7%8B%AC%E4%BD%BF%E7%94%A8" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Bundle、Uri参数注入（支持单独使用）</h3>

<p>Routers.inject(this)方法可以<code>单独使用</code>，可以实现注入Bundle、Uri的参数，由于Uri的参数是String类型，所以该框架还支持把String格式的类型转换为目标类型。目前该方法支持double、float、int、boolean、String数据类型。</p>

<div class="highlight highlight-source-java"><pre><span class="pl-c">// Bundle</span>
<span class="pl-smi">Intent</span> intent <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-smi">Intent</span>(<span class="pl-v">this</span>, <span class="pl-smi">SecondActivity</span><span class="pl-k">.</span>class);
intent<span class="pl-k">.</span>putExtra(<span class="pl-s"><span class="pl-pds">"</span>uid<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>233<span class="pl-pds">"</span></span>);
startActivity(intent);
<span class="pl-c">// Uri</span>
<span class="pl-smi">Intent</span> intent <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-smi">Intent</span>(<span class="pl-v">this</span>, <span class="pl-smi">SecondActivity</span><span class="pl-k">.</span>class);
intent<span class="pl-k">.</span>setData(<span class="pl-smi">Uri</span><span class="pl-k">.</span>parse(<span class="pl-s"><span class="pl-pds">"</span>joyrun://second?uid=233<span class="pl-pds">"</span></span>));
startActivity(intent);
<span class="pl-c">// Bundle、Uri</span>
<span class="pl-smi">Intent</span> intent <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-smi">Intent</span>(<span class="pl-v">this</span>, <span class="pl-smi">SecondActivity</span><span class="pl-k">.</span>class);
intent<span class="pl-k">.</span>setData(<span class="pl-smi">Uri</span><span class="pl-k">.</span>parse(<span class="pl-s"><span class="pl-pds">"</span>joyrun://second?uid=233<span class="pl-pds">"</span></span>));
intent<span class="pl-k">.</span>putExtra(<span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Wiki<span class="pl-pds">"</span></span>);
startActivity(intent);</pre></div>

<div class="highlight highlight-source-java"><pre>@RouterActivity(<span class="pl-s"><span class="pl-pds">"</span>second<span class="pl-pds">"</span></span>)
<span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">SecondActivity</span> <span class="pl-k">extends</span> <span class="pl-e">Activity</span> {
    <span class="pl-k">@RouterField</span>(<span class="pl-s"><span class="pl-pds">"</span>uid<span class="pl-pds">"</span></span>)
    <span class="pl-k">private</span> <span class="pl-k">int</span> uid;
    <span class="pl-k">@RouterField</span>(<span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>)
    <span class="pl-k">private</span> <span class="pl-smi">String</span> name;

    <span class="pl-k">@Override</span>
    <span class="pl-k">protected</span> <span class="pl-k">void</span> <span class="pl-en">onCreate</span>(<span class="pl-smi">Bundle</span> <span class="pl-v">savedInstanceState</span>) {
        <span class="pl-v">super</span><span class="pl-k">.</span>onCreate(savedInstanceState);
        setContentView(<span class="pl-smi">R</span><span class="pl-k">.</span>layout<span class="pl-k">.</span>activity_second);
        <span class="pl-smi">Routers</span><span class="pl-k">.</span>inject(<span class="pl-v">this</span>);
        <span class="pl-smi">Log</span><span class="pl-k">.</span>e(<span class="pl-s"><span class="pl-pds">"</span>uid<span class="pl-pds">"</span></span>, <span class="pl-smi">String</span><span class="pl-k">.</span>valueOf(uid));
        <span class="pl-smi">Log</span><span class="pl-k">.</span>e(<span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>, <span class="pl-smi">String</span><span class="pl-k">.</span>valueOf(name));
    }
}</pre></div>

<h3>
<a id="从外部浏览器其它app打开" class="anchor" href="#%E4%BB%8E%E5%A4%96%E9%83%A8%E6%B5%8F%E8%A7%88%E5%99%A8%E5%85%B6%E5%AE%83app%E6%89%93%E5%BC%80" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>从外部浏览器、其它APP打开</h3>

<p>只要在AndroidManifest.xml注册了RouterCenterActivity，即可变成经典的Uri打开，可以支持外部浏览器、其它APP打开内部的Activity。</p>

<div class="highlight highlight-text-xml"><pre>&lt;<span class="pl-ent">activity</span> <span class="pl-e">android</span><span class="pl-e">:</span><span class="pl-e">name</span>=<span class="pl-s"><span class="pl-pds">"</span>com.thejoyrun.router.RouterCenterActivity<span class="pl-pds">"</span></span>&gt;
    &lt;<span class="pl-ent">intent-filter</span>&gt;
        &lt;<span class="pl-ent">category</span> <span class="pl-e">android</span><span class="pl-e">:</span><span class="pl-e">name</span>=<span class="pl-s"><span class="pl-pds">"</span>android.intent.category.DEFAULT<span class="pl-pds">"</span></span> /&gt;
        &lt;<span class="pl-ent">action</span> <span class="pl-e">android</span><span class="pl-e">:</span><span class="pl-e">name</span>=<span class="pl-s"><span class="pl-pds">"</span>android.intent.action.VIEW<span class="pl-pds">"</span></span> /&gt;
        &lt;<span class="pl-ent">data</span> <span class="pl-e">android</span><span class="pl-e">:</span><span class="pl-e">scheme</span>=<span class="pl-s"><span class="pl-pds">"</span>joyrun<span class="pl-pds">"</span></span> /&gt;
    &lt;/<span class="pl-ent">intent-filter</span>&gt;
&lt;/<span class="pl-ent">activity</span>&gt;</pre></div>

<div class="highlight highlight-source-java"><pre><span class="pl-c">// Java代码调用</span>
startActivity(<span class="pl-k">new</span> <span class="pl-smi">Intent</span>(<span class="pl-smi">Intent</span><span class="pl-c1"><span class="pl-k">.</span>ACTION_VIEW</span>, <span class="pl-smi">Uri</span><span class="pl-k">.</span>parse(<span class="pl-s"><span class="pl-pds">"</span>joyrun://second?uid=233&amp;name=Wiki<span class="pl-pds">"</span></span>)));</pre></div>

<div class="highlight highlight-text-html-basic"><pre>// HTML方式，系统浏览器（不支持微信）
&lt;<span class="pl-ent">a</span> <span class="pl-e">href</span>=<span class="pl-s"><span class="pl-pds">"</span>joyrun://second?uid=233<span class="pl-ii">&amp;</span>name=Wiki<span class="pl-pds">"</span></span>&gt;打开JoyrunApp的SecondActivity&lt;/<span class="pl-ent">a</span>&gt;</pre></div>

<h3>
<a id="支持http协议" class="anchor" href="#%E6%94%AF%E6%8C%81http%E5%8D%8F%E8%AE%AE" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>支持HTTP协议</h3>

<div class="highlight highlight-text-xml"><pre>&lt;<span class="pl-ent">activity</span> <span class="pl-e">android</span><span class="pl-e">:</span><span class="pl-e">name</span>=<span class="pl-s"><span class="pl-pds">"</span>com.thejoyrun.router.RouterCenterActivity<span class="pl-pds">"</span></span>&gt;
    &lt;<span class="pl-ent">intent-filter</span>&gt;
        &lt;<span class="pl-ent">category</span> <span class="pl-e">android</span><span class="pl-e">:</span><span class="pl-e">name</span>=<span class="pl-s"><span class="pl-pds">"</span>android.intent.category.DEFAULT<span class="pl-pds">"</span></span> /&gt;
        &lt;<span class="pl-ent">action</span> <span class="pl-e">android</span><span class="pl-e">:</span><span class="pl-e">name</span>=<span class="pl-s"><span class="pl-pds">"</span>android.intent.action.VIEW<span class="pl-pds">"</span></span> /&gt;
        &lt;<span class="pl-ent">data</span> <span class="pl-e">android</span><span class="pl-e">:</span><span class="pl-e">scheme</span>=<span class="pl-s"><span class="pl-pds">"</span>joyrun<span class="pl-pds">"</span></span> /&gt;
    &lt;/<span class="pl-ent">intent-filter</span>&gt;
    &lt;<span class="pl-ent">intent-filter</span>&gt;
        &lt;<span class="pl-ent">category</span> <span class="pl-e">android</span><span class="pl-e">:</span><span class="pl-e">name</span>=<span class="pl-s"><span class="pl-pds">"</span>android.intent.category.DEFAULT<span class="pl-pds">"</span></span> /&gt;
        &lt;<span class="pl-ent">action</span> <span class="pl-e">android</span><span class="pl-e">:</span><span class="pl-e">name</span>=<span class="pl-s"><span class="pl-pds">"</span>android.intent.action.VIEW<span class="pl-pds">"</span></span> /&gt;
        &lt;<span class="pl-ent">data</span> <span class="pl-e">android</span><span class="pl-e">:</span><span class="pl-e">host</span>=<span class="pl-s"><span class="pl-pds">"</span>www.thejoyrun.com<span class="pl-pds">"</span></span> <span class="pl-e">android</span><span class="pl-e">:</span><span class="pl-e">scheme</span>=<span class="pl-s"><span class="pl-pds">"</span>http<span class="pl-pds">"</span></span> /&gt;
    &lt;/<span class="pl-ent">intent-filter</span>&gt;
&lt;/<span class="pl-ent">activity</span>&gt;</pre></div>

<p>如果支持HTTP协议，那么URL的结构就要做些修改</p>

<pre><code>// joyrun://second?uid=233
// =&gt;
http://www.thejoyrun.com/second?uid=233
</code></pre>

<h2>
<a id="使用方式" class="anchor" href="#%E4%BD%BF%E7%94%A8%E6%96%B9%E5%BC%8F" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>使用方式</h2>

<h3>
<a id="配置根目录的buildgradle" class="anchor" href="#%E9%85%8D%E7%BD%AE%E6%A0%B9%E7%9B%AE%E5%BD%95%E7%9A%84buildgradle" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>配置根目录的build.gradle</h3>

<pre><code>allprojects {
    repositories {
        ...
        maven { url "https://jitpack.io" }
    }
    dependencies {
        classpath 'com.android.tools.build:gradle:1.5.0'
        classpath 'com.neenbedankt.gradle.plugins:android-apt:1.8'
    }
}
</code></pre>

<h3>
<a id="配置app-module的buildgradle" class="anchor" href="#%E9%85%8D%E7%BD%AEapp-module%E7%9A%84buildgradle" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>配置app module的build.gradle</h3>

<pre><code>apply plugin: 'com.android.application'
apply plugin: 'com.neenbedankt.android-apt'

dependencies {
    compile 'com.github.joyrun.ActivityRouter:router:0.3.1'
    apt 'com.github.joyrun.ActivityRouter:router-compiler:0.3.1'
}
</code></pre>

<h3>
<a id="初始化" class="anchor" href="#%E5%88%9D%E5%A7%8B%E5%8C%96" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>初始化</h3>

<p>建议在Application进行初始化</p>

<div class="highlight highlight-source-java"><pre><span class="pl-c">// 必填，填写独特的scheme，避免和其它APP重复</span>
<span class="pl-smi">Routers</span><span class="pl-k">.</span>init(<span class="pl-s"><span class="pl-pds">"</span>joyrun<span class="pl-pds">"</span></span>);
<span class="pl-c">// 可选，如果需要支持HTTP协议就需要填写</span>
<span class="pl-smi">Routers</span><span class="pl-k">.</span>setHttpHost(<span class="pl-s"><span class="pl-pds">"</span>www.thejoyrun.com<span class="pl-pds">"</span></span>);
<span class="pl-c">// 可选，手工注册Activity</span>
<span class="pl-smi">Routers</span><span class="pl-k">.</span>register(<span class="pl-k">new</span> <span class="pl-smi">ActivityRouteTableInitializer</span>() {
    <span class="pl-k">@Override</span>
    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">initRouterTable</span>(<span class="pl-k">Map&lt;<span class="pl-smi">String</span>, <span class="pl-k">Class&lt;? extends <span class="pl-smi">Activity</span>&gt;</span>&gt;</span> <span class="pl-v">router</span>) {
        router<span class="pl-k">.</span>put(<span class="pl-s"><span class="pl-pds">"</span>second2<span class="pl-pds">"</span></span>, <span class="pl-smi">SecondActivity</span><span class="pl-k">.</span>class);
        router<span class="pl-k">.</span>put(<span class="pl-s"><span class="pl-pds">"</span>other://www.thejoyrun.com/second<span class="pl-pds">"</span></span>, <span class="pl-smi">SecondActivity</span><span class="pl-k">.</span>class);
    }
});
<span class="pl-c">// 可选，针对自己的业务做调整</span>
<span class="pl-smi">Routers</span><span class="pl-k">.</span>setFilter(<span class="pl-k">new</span> <span class="pl-smi">Filter</span>() {
    <span class="pl-k">public</span> <span class="pl-smi">String</span> <span class="pl-en">doFilter</span>(<span class="pl-smi">String</span> <span class="pl-v">url</span>) {
        <span class="pl-c">//return url.replace("joyrun://www.thejoyrun.com/","joyrun://");</span>
        <span class="pl-k">return</span> url;
    }
});</pre></div>

<h3>
<a id="配置androidmanifest" class="anchor" href="#%E9%85%8D%E7%BD%AEandroidmanifest" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>配置AndroidManifest</h3>

<p>如果需要从外部浏览器打开，就要注册</p>

<div class="highlight highlight-text-xml"><pre>&lt;<span class="pl-ent">activity</span> <span class="pl-e">android</span><span class="pl-e">:</span><span class="pl-e">name</span>=<span class="pl-s"><span class="pl-pds">"</span>com.thejoyrun.router.RouterCenterActivity<span class="pl-pds">"</span></span>&gt;
    <span class="pl-c">&lt;!--配置支持系统浏览器和其它APP打开--&gt;</span>
    &lt;<span class="pl-ent">intent-filter</span>&gt;
        &lt;<span class="pl-ent">category</span> <span class="pl-e">android</span><span class="pl-e">:</span><span class="pl-e">name</span>=<span class="pl-s"><span class="pl-pds">"</span>android.intent.category.DEFAULT<span class="pl-pds">"</span></span> /&gt;
        &lt;<span class="pl-ent">action</span> <span class="pl-e">android</span><span class="pl-e">:</span><span class="pl-e">name</span>=<span class="pl-s"><span class="pl-pds">"</span>android.intent.action.VIEW<span class="pl-pds">"</span></span> /&gt;
        &lt;<span class="pl-ent">data</span> <span class="pl-e">android</span><span class="pl-e">:</span><span class="pl-e">scheme</span>=<span class="pl-s"><span class="pl-pds">"</span>joyrun<span class="pl-pds">"</span></span> /&gt;
    &lt;/<span class="pl-ent">intent-filter</span>&gt;
    <span class="pl-c">&lt;!--如果需要支持HTTP协议，就要配置一下--&gt;</span>
    &lt;<span class="pl-ent">intent-filter</span>&gt;
        &lt;<span class="pl-ent">category</span> <span class="pl-e">android</span><span class="pl-e">:</span><span class="pl-e">name</span>=<span class="pl-s"><span class="pl-pds">"</span>android.intent.category.DEFAULT<span class="pl-pds">"</span></span> /&gt;
        &lt;<span class="pl-ent">action</span> <span class="pl-e">android</span><span class="pl-e">:</span><span class="pl-e">name</span>=<span class="pl-s"><span class="pl-pds">"</span>android.intent.action.VIEW<span class="pl-pds">"</span></span> /&gt;
        &lt;<span class="pl-ent">data</span> <span class="pl-e">android</span><span class="pl-e">:</span><span class="pl-e">host</span>=<span class="pl-s"><span class="pl-pds">"</span>www.thejoyrun.com<span class="pl-pds">"</span></span> <span class="pl-e">android</span><span class="pl-e">:</span><span class="pl-e">scheme</span>=<span class="pl-s"><span class="pl-pds">"</span>http<span class="pl-pds">"</span></span> /&gt;
    &lt;/<span class="pl-ent">intent-filter</span>&gt;
&lt;/<span class="pl-ent">activity</span>&gt;</pre></div>

<h3>
<a id="其它说明" class="anchor" href="#%E5%85%B6%E5%AE%83%E8%AF%B4%E6%98%8E" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>其它说明</h3>

<h4>
<a id="多对一映射" class="anchor" href="#%E5%A4%9A%E5%AF%B9%E4%B8%80%E6%98%A0%E5%B0%84" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>多对一映射</h4>

<p>一个Activity支持配置多个路径，也支持完整的URL配置</p>

<div class="highlight highlight-source-java"><pre>@RouterActivity({<span class="pl-s"><span class="pl-pds">"</span>second<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>second2<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>other2://www.thejoyrun.com/second<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>joyrun://www.thejoyrun.com/second<span class="pl-pds">"</span></span>})
<span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">SecondActivity</span> <span class="pl-k">extends</span> <span class="pl-e">Activity</span> {}</pre></div>

<h4>
<a id="手工注册activity" class="anchor" href="#%E6%89%8B%E5%B7%A5%E6%B3%A8%E5%86%8Cactivity" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>手工注册Activity</h4>

<p>手工注册，也支持路径注册，也支持完整路径注册，支持多种scheme</p>

<pre><code>Routers.register(new ActivityRouteTableInitializer() {
    @Override
    public void initRouterTable(Map&lt;String, Class&lt;? extends Activity&gt;&gt; router) {
        router.put("second2", SecondActivity.class);
        router.put("other://www.thejoyrun.com/second", SecondActivity.class);
    }
});
</code></pre>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/joyrun/ActivityRouter">Android的Activity路由框架</a> is maintained by <a href="https://github.com/joyrun">joyrun</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
